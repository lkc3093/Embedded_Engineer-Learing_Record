## speex的AEC过程 
1. 输入信号为远端信号和近端信号, 远端信号是指扬声器发出的信号, 近端信号是指麦克风收到的信号; 近端信号和参考信号要先估计两个信号的延时, 用的是相关系数   
&nbsp;
2. 线性滤波部分, 计算回声和远端的最小均方差, 让回声逼近远端的声音(经过房间的响应), 然后将近端的声音减去回声逼近的部分, 得到说话人的声音; 在更新滤波器参数时, 不能出现近端信号, 所以整个参数更新的过程要快, 也就是说对于滤波器参数来说应该算是先验参数  
&nbsp;
3. 非线性滤波部分, 计算远端信号和近端信号的自相关功率谱, 判断近端信号夹杂有远端信号的概率;概率超过门限概率, 就需要做噪声抑制  
&nbsp;
4. 在poster_filter中做残留回声消除和噪声抑制, 认为残留回声和噪声均是噪声
   * 利用自适应系数的FIR滤波器

### mdf在AEC过程的作用
1. 用FFT来代替时域上的分块卷积, 减小计算复杂度
2. 根据可变步长来更新滤波器系数, 加快收敛速度, 最优步长等于残余回声方差与误差信号方差之比

### 采用双滤波器设计
1. 采用自适应的后向滤波器和固定参数的前向滤波器
2. 当后向滤波器参数更新发散时, 使用前向滤波器的参数; 若后向滤波器更新, 则参数传递给前向滤波器

### 定点spx_fft的计算流程
1. 将512点的实数fft, 用256点的复数实现, 其中奇数的部分当做虚部来计算, 减小计算量
2. 因为复数的乘法计算, 等于实部*实部+虚部*虚部+2*实部*虚部, 而单位圆上的第一象限与第二象限的实部为相反数; 利用这个性质可以计算出后续频谱的数值

